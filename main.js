!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t=document.querySelector(".profile__edit-button"),s=document.querySelector("#profile-title-input"),i=document.querySelector("#profile-description-input"),r=document.forms["profile-edit-form"],n=document.querySelector(".profile__add-button"),a=document.forms["add-card-form"],o=document.querySelector(".profile__image-edit-button"),l=document.forms["change-avatar-form"];class d{constructor(e,t){let{data:s,handleImageClick:i,handleLikeClick:r,handleDeleteCardClick:n}=e;this.name=s.name,this.link=s.link,this._id=s._id,this._isliked=s.isLiked,this._cardSelector=t,this._handleImageClick=i,this._handleLikeClick=r,this._handleDeleteCard=n}getID(){return this._id}_setEventListeners(){this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this)})),this._likeButton.addEventListener("click",(()=>{this._handleLikeClick(this)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteCard(this)}))}handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}_handleLikeIcon(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}handleLike(e){this._isLiked=e,this._handleLikeIcon()}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this._getTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._cardImage=this._cardElement.querySelector(".card__image"),console.log("Card Name:",this.name),console.log("Card Link:",this.link),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImage.src=this.link,this._cardImage.alt=this.name,this._cardElement.querySelector(".card__title").textContent=this.name,this._setEventListeners(),this._handleLikeIcon(),this._cardElement}}class c{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.errorClass,this._errorClass=e.errorClass,this._formEl=t,this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)],this._submitButton=this._formEl.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent=" ",t.classList.remove(this._errorClass)}toggleButtonState(){this._hasInvalidInput(this._inputEls)?this.disableButton():this._enableButton()}resetValidation(){this.toggleButtonState(),this._inputEls.forEach((e=>{this._hideInputError(e)}))}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_hasInvalidInput(e){return!e.every((e=>e.validity.valid))}_checkFormValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_setEventListeners(){this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkFormValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class h{constructor(e){let{modalSelector:t}=e;this._modalElement=document.querySelector(t)}open(){this._modalElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._modalElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"!==e.key&&"esc"!==e.key&&27!==e.keyCode||this.close()};setEventListeners(){this._modalElement.querySelector(".modal__close").addEventListener("click",(()=>{this.close()})),this._modalElement.addEventListener("click",(e=>{e.target===this._modalElement&&this.close()}))}}class _ extends h{constructor(e){let{modalSelector:t,handleFormSubmit:s}=e;super({modalSelector:t}),this._modalForm=this._modalElement.querySelector(".modal__form"),this._handleFormSubmit=s,this._inputList=[...this._modalForm.querySelectorAll(".modal__input")],this._saveButton=this._modalForm.querySelector(".modal__button"),this._saveButtonText=this._saveButton.textContent}setSubmitHandler(e){this._handleFormSubmit=e}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._saveButton.textContent=e?t:this._saveButtonText}_getInputValues(){return this._inputValues={},this._inputList.forEach((e=>{this._inputValues[e.name]=e.value})),this._inputValues}close(){this._modalForm.reset(),super.close()}setEventListeners(){super.setEventListeners(),this._modalForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}const m=new class{constructor(e){let{baseURL:t,headers:s}=e;this._baseURL=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_request(e,t){return fetch(e,t).then(this._checkResponse)}getUserInfo(){return fetch(`${this._baseURL}/users/me`,{headers:this._headers}).then(this._checkResponse)}getInitialCards(){return fetch(`${this._baseURL}/cards`,{headers:this._headers}).then(this._checkResponse)}getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}editProfile(e){let{name:t,about:s}=e;return fetch(`${this._baseURL}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})}).then(this._checkResponse)}addCard(e){let{name:t,link:s}=e;return fetch(`${this._baseURL}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then(this._checkResponse)}likeCardStatus(e,t){return fetch(`${this._baseURL}/cards/${e}/likes`,{method:t?"PUT":"DELETE",headers:this._headers}).then(this._checkResponse)}deleteCard(e){return fetch(`${this._baseURL}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}changeAvatar(e){return fetch(`${this._baseURL}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseURL:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f2352e83-00f2-4fed-84a7-f485841f4242","Content-Type":"application/json"}});m.getAppInfo().then((e=>{let[t,s]=e;f.setUserInfo({name:t.name,description:t.about}),f.changeAvatarImage(t.avatar),u.renderItems(s)})).catch((e=>{console.error("Failed to load app info: ${err}")}));const u=new class{constructor(e,t){let{renderer:s}=e;this._items=[],this._renderer=s,this._container=document.querySelector(t)}renderItems(e){this._items=e,this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({renderer:e=>{console.log("Rendering card with data:",e),u.addItem(b(e))}},".cards__list"),p=new _({modalSelector:"#add-card-modal",handleFormSubmit:e=>{p.renderLoading(!0),m.addCard({name:e.title,link:e.link}).then((e=>{u.addItem(b(e)),p.close()})).catch(console.error).finally((()=>{p.renderLoading(!1)}))}}),v=new _({modalSelector:"#profile-edit-modal",handleFormSubmit:e=>{v.renderLoading(!0),m.editProfile({name:e.title,about:e.bio}).then((e=>{f.setUserInfo({name:e.name,description:e.about}),v.close()})).catch(console.error).finally((()=>{v.renderLoading(!1)}))}}),E=new _({modalSelector:"#confirm-delete-modal",handleFormSubmit:y}),k=new _({modalSelector:"#change-avatar-modal",handleFormSubmit:e=>{k.renderLoading(!0),m.changeAvatar(e.link).then((e=>{f.changeAvatarImage(e.avatar),k.close()})).catch(console.error).finally((()=>{k.renderLoading(!1)}))}}),L=new class extends h{constructor(e){super({modalSelector:e}),this._modalCardImage=this._modalElement.querySelector("#modal-image"),this._modalCardTitle=this._modalElement.querySelector("#modal-title")}open(e){let{name:t,link:s}=e;this._modalCardImage.src=s,this._modalCardImage.alt=t,this._modalCardTitle.textContent=t,super.open()}}("#card-image-modal"),f=new class{constructor(e){let{name:t,description:s,avatar:i}=e;this._name=document.querySelector(t),this._description=document.querySelector(s),this._avatar=document.querySelector(i)}changeAvatarImage(e){this._avatar.src=e}getUserInfo(){return{name:this._name.textContent,bio:this._description.textContent,avatar:this._avatar.src}}setUserInfo(e){let{name:t,description:s}=e;this._name.textContent=t,this._description.textContent=s}}({name:".profile__title",description:".profile__description",avatar:".profile__image"});L.setEventListeners(),p.setEventListeners(),v.setEventListeners(),E.setEventListeners(),k.setEventListeners();const g=new c(e,r),S=new c(e,a),C=new c(e,l);function b(e){console.log("Card Data Passed to createCard:",e);const t=new d({data:e,handleImageClick:()=>{L.open(e)},handleLikeClick:e=>{m.likeCardStatus(e.getID(),!e._isLiked).then((t=>{e.handleLike(t.isLiked)})).catch(console.error)},handleDeleteCardClick:y},"#card-template");return t.getView()}function y(e){E.open(),E.setSubmitHandler((()=>{m.deleteCard(e.getID()).then((()=>{e.handleDeleteCard(),E.close()})).catch(console.error)}))}g.enableValidation(),S.enableValidation(),C.enableValidation(),t.addEventListener("click",(()=>{const e=f.getUserInfo();s.value=e.name,i.value=e.bio,v.open(),g.resetValidation()})),n.addEventListener("click",(()=>{p.open(),S.resetValidation()})),o.addEventListener("click",(()=>{k.open(),C.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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anMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL01vZGFsLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Nb2RhbFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvTW9kYWxXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIC8ve1xuICAvLyAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgLy8gIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgLy99LFxuICAvL3tcbiAgLy8gIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgLy8gIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcbiAgLy99LFxuICAvL3tcbiAgLy8gIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcbiAgLy8gIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgLy99LFxuICAvL3tcbiAgLy8gIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAvLyAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIC8vfSxcbiAvLyB7XG4gIC8vICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAvLyAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXG4gIC8vIH0sXG4gIC8vIHtcbiAgICAvLyBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgLy8gbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXG4gIC8vfSxcbi8vXTtcblxuZXhwb3J0IGNvbnN0IGNhcmRTZWxlY3RvcnMgPSB7XG4gIGNhcmRMaXN0RWw6IFwiLmNhcmRzX19saXN0XCIsXG4gIGNhcmRUZW1wbGF0ZTogXCIjY2FyZC10ZW1wbGF0ZVwiLFxuICBwcmV2aWV3TW9kYWw6IFwiI2NhcmQtaW1hZ2UtbW9kYWxcIixcbn07XG5cbmV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1lZGl0LWZvcm1cIl07XG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiYWRkLWNhcmQtZm9ybVwiXTtcbmV4cG9ydCBjb25zdCBjaGFuZ2VBdmF0YXJCdXR0b24gPVxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1lZGl0LWJ1dHRvblwiLCk7XG5leHBvcnQgY29uc3QgY2hhbmdlQXZhdGFyRm9ybSA9IFxuZG9jdW1lbnQuZm9ybXNbXCJjaGFuZ2UtYXZhdGFyLWZvcm1cIl07XG5cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICB7IGRhdGEsIGhhbmRsZUltYWdlQ2xpY2ssIGhhbmRsZUxpa2VDbGljaywgaGFuZGxlRGVsZXRlQ2FyZENsaWNrIH0sXG4gICAgY2FyZFNlbGVjdG9yXG4gICkge1xuICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLmxpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9pc2xpa2VkID0gZGF0YS5pc0xpa2VkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmRDbGljaztcbiAgfVxuXG4gIGdldElEKCkge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcyk7XG4gICAgfSk7XG4gICAgLy8gXCIuY2FyZF9fbGlrZS1idXR0b25cIlxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgICAvLyBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVEZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuICBfaGFuZGxlTGlrZUljb24oKSB7XG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUxpa2UoaXNMaWtlZCkge1xuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uKCk7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cblxuICBnZXRWaWV3KCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICAvLyAgICAgLy9nZXQgY2FyZCB2aWV3XG5cbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiQ2FyZCBOYW1lOlwiLCB0aGlzLm5hbWUpOyAvLyBEZWJ1Z2dpbmdcbiAgICBjb25zb2xlLmxvZyhcIkNhcmQgTGluazpcIiwgdGhpcy5saW5rKTsgLy8gRGVidWdnaW5nXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgICk7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMubGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5uYW1lO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLm5hbWU7XG4gICAgLy9zZXQgZXZ0IGxpc3RlbmVyc1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5faGFuZGxlTGlrZUljb24oKTtcbiAgICAvL3JldHVybiBjYXJkXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbCkge1xuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsID0gZm9ybUVsO1xuICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBcIiBcIjtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dEVscykpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbmFibGVCdXR0b24oKTtcbiAgICB9XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBkaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBfZW5hYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcbiAgICByZXR1cm4gIWlucHV0TGlzdC5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICBfY2hlY2tGb3JtVmFsaWRpdHkoaW5wdXRFbCkge1xuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICB0aGlzLl9jaGVja0Zvcm1WYWxpZGl0eShpbnB1dEVsKTtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKHsgbW9kYWxTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb2RhbFNlbGVjdG9yKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiIHx8IGV2dC5rZXkgPT09IFwiZXNjXCIgfHwgZXZ0LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fbW9kYWxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsV2l0aEZvcm0gZXh0ZW5kcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKHsgbW9kYWxTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XG4gICAgc3VwZXIoeyBtb2RhbFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX21vZGFsRm9ybSA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9tb2RhbEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIildO1xuXG4gICAgdGhpcy5fc2F2ZUJ1dHRvbiA9IHRoaXMuX21vZGFsRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XG4gICAgdGhpcy5fc2F2ZUJ1dHRvblRleHQgPSB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50O1xuICB9XG5cbiAgc2V0U3VibWl0SGFuZGxlcihoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc2F2ZUJ1dHRvblRleHQ7XG4gICAgfVxuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgdGhpcy5faW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRWYWx1ZXM7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9tb2RhbEZvcm0ucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX21vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5cbi8vaW1wb3J0c1xuXG5pbXBvcnQge1xuICBjYXJkU2VsZWN0b3JzLFxuICBzZXR0aW5ncyxcbiAgcHJvZmlsZUVkaXRCdXR0b24sXG4gIHByb2ZpbGVUaXRsZUlucHV0LFxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcbiAgcHJvZmlsZUVkaXRGb3JtLFxuICBhZGRDYXJkQnV0dG9uLFxuICBhZGRDYXJkRm9ybSxcbiAgY2hhbmdlQXZhdGFyQnV0dG9uLFxuICBjaGFuZ2VBdmF0YXJGb3JtLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBNb2RhbFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aEZvcm0uanNcIjtcbmltcG9ydCBNb2RhbFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Nb2RhbFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuXG4vL0FQSVxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVUkw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiZjIzNTJlODMtMDBmMi00ZmVkLTg0YTctZjQ4NTg0MWY0MjQyXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuYXBpXG4gIC5nZXRBcHBJbmZvKClcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNdKSA9PiB7XG4gICAgdXNlci5zZXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHVzZXJEYXRhLmFib3V0LFxuICAgIH0pO1xuICAgIHVzZXIuY2hhbmdlQXZhdGFySW1hZ2UodXNlckRhdGEuYXZhdGFyKTtcbiAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmRzKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgYXBwIGluZm86ICR7ZXJyfVwiKTtcbiAgfSk7XG5cbi8vaW5zdGFudGlhdGVcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJSZW5kZXJpbmcgY2FyZCB3aXRoIGRhdGE6XCIsIGRhdGEpO1xuICAgICAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YSkpO1xuICAgIH0sXG4gIH0sXG5cbiAgY2FyZFNlbGVjdG9ycy5jYXJkTGlzdEVsXG4pO1xuXG5jb25zdCBuZXdDYXJkTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybSh7XG4gIG1vZGFsU2VsZWN0b3I6IFwiI2FkZC1jYXJkLW1vZGFsXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgbmV3Q2FyZE1vZGFsLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgYXBpXG4gICAgICAuYWRkQ2FyZCh7XG4gICAgICAgIG5hbWU6IGRhdGEudGl0bGUsXG4gICAgICAgIGxpbms6IGRhdGEubGluayxcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBzZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChkYXRhKSk7XG4gICAgICAgIG5ld0NhcmRNb2RhbC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBuZXdDYXJkTW9kYWwucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xuICBtb2RhbFNlbGVjdG9yOiBcIiNwcm9maWxlLWVkaXQtbW9kYWxcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBlZGl0UHJvZmlsZU1vZGFsLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG5cbiAgICBhcGlcbiAgICAgIC5lZGl0UHJvZmlsZSh7XG4gICAgICAgIG5hbWU6IGRhdGEudGl0bGUsXG4gICAgICAgIGFib3V0OiBkYXRhLmJpbyxcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICB1c2VyLnNldFVzZXJJbmZvKHsgbmFtZTogZGF0YS5uYW1lLCBkZXNjcmlwdGlvbjogZGF0YS5hYm91dCB9KTtcbiAgICAgICAgZWRpdFByb2ZpbGVNb2RhbC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBlZGl0UHJvZmlsZU1vZGFsLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcblxuY29uc3QgY29uZmlybURlbGV0ZU1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xuICBtb2RhbFNlbGVjdG9yOiBcIiNjb25maXJtLWRlbGV0ZS1tb2RhbFwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiBjb25maXJtRGVsZXRlQ2FyZCxcbn0pO1xuXG4vL3Rlc3QvL1xuXG4vLyBjb25zdCBjb25maXJtRGVsZXRlTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybSh7XG4vLyAgIG1vZGFsU2VsZWN0b3I6IFwiI2NvbmZpcm0tZGVsZXRlLW1vZGFsXCIsXG4vLyAgIGhhbmRsZUZvcm1TdWJtaXQ6IGNvbmZpcm1EZWxldGVDYXJkLFxuLy8gfSk7XG5cbmNvbnN0IGNoYW5nZUF2YXRhck1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xuICBtb2RhbFNlbGVjdG9yOiBcIiNjaGFuZ2UtYXZhdGFyLW1vZGFsXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgY2hhbmdlQXZhdGFyTW9kYWwucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgICBhcGlcbiAgICAgIC5jaGFuZ2VBdmF0YXIoZGF0YS5saW5rKVxuICAgICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICAgIHVzZXIuY2hhbmdlQXZhdGFySW1hZ2UodXNlckRhdGEuYXZhdGFyKTtcbiAgICAgICAgY2hhbmdlQXZhdGFyTW9kYWwuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgY2hhbmdlQXZhdGFyTW9kYWwucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5jb25zdCBpbWFnZU1vZGFsID0gbmV3IE1vZGFsV2l0aEltYWdlKGNhcmRTZWxlY3RvcnMucHJldmlld01vZGFsKTtcblxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWU6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIGRlc2NyaXB0aW9uOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxuICBhdmF0YXI6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXG59KTtcblxuLy9pbml0aWFsaXppZSBpbnN0YW5jZXNcbi8vIGNvbnNvbGUubG9nKFwiSW5pdGlhbCBDYXJkcyBiZWZvcmUgcmVuZGVyaW5nXCIsIGluaXRpYWxDYXJkcyk7XG4vLyAgc2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkcyk7XG5pbWFnZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5uZXdDYXJkTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmVkaXRQcm9maWxlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmNvbmZpcm1EZWxldGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuY2hhbmdlQXZhdGFyTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLypWYWxpZGF0aW9uKi9cblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgcHJvZmlsZUVkaXRGb3JtKTtcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgYWRkQ2FyZEZvcm0pO1xuY29uc3QgY2hhbmdlQXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBjaGFuZ2VBdmF0YXJGb3JtKTtcblxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jaGFuZ2VBdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLyogRnVuY3Rpb25zICovXG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuICBjb25zb2xlLmxvZyhcIkNhcmQgRGF0YSBQYXNzZWQgdG8gY3JlYXRlQ2FyZDpcIiwgZGF0YSk7IC8vIERlYnVnIGxvZ1xuXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICB7XG4gICAgICBkYXRhLFxuICAgICAgaGFuZGxlSW1hZ2VDbGljazogKCkgPT4ge1xuICAgICAgICBpbWFnZU1vZGFsLm9wZW4oZGF0YSk7XG4gICAgICB9LFxuICAgICAgaGFuZGxlTGlrZUNsaWNrOiAoY2FyZCkgPT4ge1xuICAgICAgICBhcGlcbiAgICAgICAgICAubGlrZUNhcmRTdGF0dXMoY2FyZC5nZXRJRCgpLCAhY2FyZC5faXNMaWtlZClcbiAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY2FyZC5oYW5kbGVMaWtlKGRhdGEuaXNMaWtlZCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICB9LFxuICAgICAgaGFuZGxlRGVsZXRlQ2FyZENsaWNrOiBjb25maXJtRGVsZXRlQ2FyZCxcbiAgICAgIC8vaGFuZGxlIGNhcmQgY2xpY2tcbiAgICAgIC8vaGFuZGxlIGxpa2UgY2xpY2tcbiAgICAgIC8vaGFuZGxlIGRlbGV0ZSBpY29uIGNsaWNrXG4gICAgfSxcbiAgICBjYXJkU2VsZWN0b3JzLmNhcmRUZW1wbGF0ZVxuICApO1xuXG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcbn1cblxuZnVuY3Rpb24gY29uZmlybURlbGV0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uZmlybURlbGV0ZU1vZGFsLm9wZW4oKTtcbiAgY29uZmlybURlbGV0ZU1vZGFsLnNldFN1Ym1pdEhhbmRsZXIoKCkgPT4ge1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZERhdGEuZ2V0SUQoKSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZERhdGEuaGFuZGxlRGVsZXRlQ2FyZCgpO1xuICAgICAgICBjb25maXJtRGVsZXRlTW9kYWwuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH0pO1xufVxuXG4vKiBFdmVudCBMaXN0ZW5lcnMgKi9cbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJJbnB1dCA9IHVzZXIuZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSB1c2VySW5wdXQubmFtZTtcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSB1c2VySW5wdXQuYmlvO1xuICBlZGl0UHJvZmlsZU1vZGFsLm9wZW4oKTtcbiAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIC8vZWRpdEZvcm1WYWxpZGF0b3IuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG59KTtcblxuLy8gcHJvZmlsZUVkaXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlUHJvZmlsZUVkaXRGb3JtU3VibWl0KTtcblxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBuZXdDYXJkTW9kYWwub3BlbigpO1xuICBhZGRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmNoYW5nZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjaGFuZ2VBdmF0YXJNb2RhbC5vcGVuKCk7XG5cbiAgY2hhbmdlQXZhdGFyRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuLy8gYWRkQ2FyZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdCk7XG5cbi8vIGluaXRpYWxDYXJkcy5mb3JFYWNoKChjYXJkRGF0YSkgPT4gcmVuZGVyQ2FyZChjYXJkRGF0YSwgY2FyZExpc3RFbCkpO1xuXG4vLyBjbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4vLyAgIGNvbnN0IG1vZGFsID0gYnV0dG9uLmNsb3Nlc3QoXCIubW9kYWxcIik7XG4vLyAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjbG9zZU1vZGFsKG1vZGFsKSk7XG4vLyB9KTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cbiAgfVxuXG4gIF9yZXF1ZXN0KHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0QXBwSW5mbygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0VXNlckluZm8oKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pO1xuICB9XG5cbiAgZWRpdFByb2ZpbGUoeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBhYm91dCB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVVJMfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBsaWtlQ2FyZFN0YXR1cyhjYXJkSWQsIGxpa2UpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBsaWtlID8gXCJQVVRcIiA6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVVJMfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBjaGFuZ2VBdmF0YXIobGluaykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVVJMfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhcjogbGluayB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gW107XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xuICB9XG59XG4iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWwuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWxXaXRoSW1hZ2UgZXh0ZW5kcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKG1vZGFsU2VsZWN0b3IpIHtcbiAgICBzdXBlcih7IG1vZGFsU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fbW9kYWxDYXJkSW1hZ2UgPSB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1pbWFnZVwiKTtcbiAgICB0aGlzLl9tb2RhbENhcmRUaXRsZSA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLXRpdGxlXCIpO1xuICB9XG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcbiAgICB0aGlzLl9tb2RhbENhcmRJbWFnZS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX21vZGFsQ2FyZEltYWdlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fbW9kYWxDYXJkVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGRlc2NyaXB0aW9uLCBhdmF0YXIgfSkge1xuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWUpO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkZXNjcmlwdGlvbik7XG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXIpO1xuICB9XG5cbiAgY2hhbmdlQXZhdGFySW1hZ2UoYXZhdGFyKSB7XG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgYmlvOiB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCxcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyYyxcbiAgICB9O1xuICB9XG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgZGVzY3JpcHRpb24gfSkge1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwicHJvZmlsZUVkaXRCdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwicHJvZmlsZUVkaXRGb3JtIiwiZm9ybXMiLCJhZGRDYXJkQnV0dG9uIiwiYWRkQ2FyZEZvcm0iLCJjaGFuZ2VBdmF0YXJCdXR0b24iLCJjaGFuZ2VBdmF0YXJGb3JtIiwiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZENsaWNrIiwidGhpcyIsIm5hbWUiLCJsaW5rIiwiX2lkIiwiX2lzbGlrZWQiLCJpc0xpa2VkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVEZWxldGVDYXJkIiwiZ2V0SUQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2FyZEltYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9saWtlQnV0dG9uIiwiX2RlbGV0ZUJ1dHRvbiIsImhhbmRsZURlbGV0ZUNhcmQiLCJfY2FyZEVsZW1lbnQiLCJyZW1vdmUiLCJfaGFuZGxlTGlrZUljb24iLCJfaXNMaWtlZCIsImNsYXNzTGlzdCIsImFkZCIsImhhbmRsZUxpa2UiLCJfZ2V0VGVtcGxhdGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0VmlldyIsImNvbnNvbGUiLCJsb2ciLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWwiLCJfZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9mb3JtRWwiLCJfaW5wdXRFbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWwiLCJlcnJvck1lc3NhZ2VFbCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlQnV0dG9uIiwiX2VuYWJsZUJ1dHRvbiIsInJlc2V0VmFsaWRhdGlvbiIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJkaXNhYmxlZCIsImlucHV0TGlzdCIsImV2ZXJ5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9jaGVja0Zvcm1WYWxpZGl0eSIsImVuYWJsZVZhbGlkYXRpb24iLCJlIiwicHJldmVudERlZmF1bHQiLCJNb2RhbCIsIm1vZGFsU2VsZWN0b3IiLCJfbW9kYWxFbGVtZW50Iiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImtleUNvZGUiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsIk1vZGFsV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfbW9kYWxGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5wdXRMaXN0IiwiX3NhdmVCdXR0b24iLCJfc2F2ZUJ1dHRvblRleHQiLCJzZXRTdWJtaXRIYW5kbGVyIiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiX2dldElucHV0VmFsdWVzIiwiX2lucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInJlc2V0IiwiYXBpIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJfYmFzZVVSTCIsIl9oZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX3JlcXVlc3QiLCJ1cmwiLCJvcHRpb25zIiwiZmV0Y2giLCJ0aGVuIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRBcHBJbmZvIiwiYWxsIiwiZWRpdFByb2ZpbGUiLCJfcmVmMiIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkIiwiX3JlZjMiLCJsaWtlQ2FyZFN0YXR1cyIsImNhcmRJZCIsImxpa2UiLCJkZWxldGVDYXJkIiwiY2hhbmdlQXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsInVzZXJEYXRhIiwiY2FyZHMiLCJ1c2VyIiwic2V0VXNlckluZm8iLCJkZXNjcmlwdGlvbiIsImNoYW5nZUF2YXRhckltYWdlIiwic2VjdGlvbiIsInJlbmRlckl0ZW1zIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsInByZXBlbmQiLCJjcmVhdGVDYXJkIiwibmV3Q2FyZE1vZGFsIiwidGl0bGUiLCJmaW5hbGx5IiwiZWRpdFByb2ZpbGVNb2RhbCIsImJpbyIsImNvbmZpcm1EZWxldGVNb2RhbCIsImNvbmZpcm1EZWxldGVDYXJkIiwiY2hhbmdlQXZhdGFyTW9kYWwiLCJpbWFnZU1vZGFsIiwiX21vZGFsQ2FyZEltYWdlIiwiX21vZGFsQ2FyZFRpdGxlIiwiX25hbWUiLCJfZGVzY3JpcHRpb24iLCJfYXZhdGFyIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRGb3JtVmFsaWRhdG9yIiwiY2hhbmdlQXZhdGFyRm9ybVZhbGlkYXRvciIsImNhcmQiLCJjYXJkRGF0YSIsInVzZXJJbnB1dCJdLCJzb3VyY2VSb290IjoiIn0=